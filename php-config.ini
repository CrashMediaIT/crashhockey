# PHP Configuration for Crash Hockey
# Add these settings to your php.ini file or create a custom .ini file in /etc/php/8.1/fpm/conf.d/

# File Upload Settings for Large Videos
upload_max_filesize = 2048M          # Maximum size of uploaded file (2GB)
post_max_size = 2048M                # Maximum size of POST data (should be >= upload_max_filesize)
memory_limit = 512M                  # Maximum memory a script may consume
max_execution_time = 300             # Maximum execution time (5 minutes)
max_input_time = 300                 # Maximum input parsing time (5 minutes)

# Session Settings
session.cookie_httponly = 1          # Prevent JavaScript access to session cookies
session.cookie_secure = 1            # Only send cookies over HTTPS (set to 0 for HTTP)
session.use_strict_mode = 1          # Prevent session fixation attacks
session.cookie_samesite = "Lax"      # CSRF protection

# Security Settings
expose_php = Off                     # Don't expose PHP version
allow_url_fopen = On                 # Allow URL file access (needed for some operations)
allow_url_include = Off              # Prevent remote file inclusion

# Error Handling (adjust for production)
display_errors = Off                 # Don't display errors to users in production
display_startup_errors = Off
log_errors = On                      # Log errors
error_log = /var/log/php/error.log   # Error log location
error_reporting = E_ALL & ~E_DEPRECATED & ~E_STRICT

# File Upload Progress
file_uploads = On
max_file_uploads = 20                # Maximum number of files that can be uploaded at once

# Timezone (adjust to your location)
date.timezone = America/Toronto
